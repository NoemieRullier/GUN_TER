import java.util.ArrayList;
import java.util.List;

import org.jdom2.Document;
import org.jdom2.Element;
import org.jdom2.filter.ElementFilter;
import org.jdom2.input.SAXBuilder;
import org.jdom2.util.IteratorIterable;

import com.hp.hpl.jena.rdf.model.Model;
import com.hp.hpl.jena.rdf.model.ModelFactory;


public class DisponibiliteeParking {

	private static final String file = "../../DataSets/disponibilite-dans-les-parkings-publics-de-nantes-metropole.xml";
	
	/**
	 * @param args
	 */
	public static void main(String[] args) {

		//entÃªte du fichier RDF Turtle
		Model DispoParkingModel = ModelFactory.createDefaultModel();
		String nsA = "http://example.org/";
		String nsB = "http://example.org/Parking_availability/";
		String nsC = "http://example.org/Parking_status/";
		String nsD = "http://example.org/Parking/";
		
		DispoParkingModel.setNsPrefix("schema", nsA);
		DispoParkingModel.setNsPrefix("parking_availability", nsB);
		DispoParkingModel.setNsPrefix("parking_status", nsC);
		DispoParkingModel.setNsPrefix("parking", nsD);
		
		
		
		//Parsing xml file
		
		SAXBuilder builder = new SAXBuilder();
		
		try {
			Document document = builder.build(file);
			Element rootNode = document.getRootElement();
			IteratorIterable<Elemet>rootNode.getDescendants(new ElementFilter("Groupe_Parking"));
//			Element grpParkingElement = rootNode.get;
//			boolean find = false;
//			while(!find && true/*remplacer par fin de fichier*/){
//				//parcourir le fichier jusqu'a obtenir le premier group parking
//				
//			}
			
			for(Element e : rootNode.getChildren("Groupe_Parking")){
				System.out.println(e.getName());
				for(Element f : e.getChildren()){
					System.out.println(f.getName() + " : " + f.getText());
				}
			}
		} catch (JDOMException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		DispoParkingModel.write(System.out, "TURTLE");
	}
}
